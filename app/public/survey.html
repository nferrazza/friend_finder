<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    
    <title>Villain Finder!</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

  
  	<script src="https://code.jquery.com/jquery.js"></script>

	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	  
	
<!--Chosen stylesheet is a JS plugin that makes select boxes user friendly-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>


	<link rel="stylesheet" type="text/css" href="/css/style.css"> 


    
</head>
<body style="background-image:url(https://images.pexels.com/photos/813269/pexels-photo-813269.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)">
	<div class="container" style="font-family:Arial, Helvetica, sans-serif;background-color:darkgray;">
		<br>
		<h2 style="font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">Survey Questions</h2>
		<hr>
	
		<h3><strong>About You</strong></h3>
		<h4>Name (Required)</h4>
		<input type="text" id="name" class="form-control" required>
	
		<h4>Link to Photo Image (Required)</h4>
		<input type="text" id="photo" class="form-control" required>
	
		<hr>
	
		<h3><br><strong>Question 1</strong></h3>
		<h4 >If you had to pick a region to conquer it would be:</h4>
		<select class="chosen-select" id="q1" >
		  <option value=""></option>
		  <option value="1">Wonderland</option>
		  <option value="2">The Sea</option>
		  <option value="3">The Underworld</option>
		  <option value="4">The Forrest</option>
		  <option value="5">The City</option>
		</select><br>
	
		<h3><br><strong>Question 2</strong></h3>
		<h4>What is your weapon of choice?</h4>
		<select class="chosen-select" id="q2">
		  <option value=""></option>
		  <option value="1">Dark Magic</option>
		  <option value="2">Battle Axe</option>
		  <option value="3">Rifle</option>
		  <option value="4">Fire</option>
		  <option value="5">My Henchman</option>
		</select><br>
	
	
		<h3><br><strong>Question 3</strong></h3>
		<h4>What type of Hero do you love to hate?</h4>
		<select class="chosen-select" id="q3">
		  <option value=""></option>
		  <option value="1">Hunky Herculaen Types.</option>
		  <option value="2">Arrogant Little Girls!</option>
		  <option value="3">Stupid little dogs</option>
		  <option value="4">Mer-People...Gross. </option>
		  <option value="5">Beasts with Manners.</option>
		</select><br>
	
	
		<h3><br><strong>Question 4</strong></h3>
		<h4>How would you describe your temper?</h4>
		<select class="chosen-select" id="q4">
		  <option value=""></option>
		  <option value="1">Very short.</option>
		  <option value="2">SHUT UP!</option>
		  <option value="3">I get Irritated easily.</option>
		  <option value="4">Great Actually!</option>
		  <option value="5">That was a lie. SHORT.</option>
		</select><br>
	
	
		<h3><br><strong>Question 5</strong></h3>
		<h4>What do you like to eat?</h4>
		<select class="chosen-select" id="q5">
		  <option value=""></option>
		  <option value="1">Anything I can have with a cigarette.</option>
		  <option value="2">5 dozen eggs.</option>
		  <option value="3">Seafood.</option>
		  <option value="4">Souls.</option>
		  <option value="5">Tomato Tarts.</option>
		</select><br>
	
	
		<h3><br><strong>Question 6</strong></h3>
		<h4>Do you have a catch-phrase?</h4>
		<select class="chosen-select" id="q6">
		  <option value=""></option>
		  <option value="1">Let's Make a Deal!</option>
		  <option value="2">You Poor Unfortunate Soul.</option>
		  <option value="3">As a specimen, yes; I am intimididating.</option>
		  <option value="4">How perfectly Marvelous!</option>
		  <option value="5">Off with her head!</option>
		</select><br>
	
	
	
		<br>
		<br>
	
		<!-- Submit Button -->
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit" style="background-color:black;">
		 Find Me a Villain!</button>
	
		<hr>
		<footer class="footer">
		  <div class="container">
			<p><a href="/api/friends" style="color:black;margin-left:38%;">Check Out The List Of Villains Here!</a> 
		  </div>
		</footer>
	
	  </div>
	
	  <!-- Modal -->
	  <div id="results-modal" class="modal fade" role="dialog">
		<div class="modal-dialog">
	
		  <!-- Modal content-->
		  <div class="modal-content">
			<div class="modal-header">
			  <button class="close" data-dismiss="modal">&times;</button>
			  <h2 class="modal-title"><strong>Best Match</strong></h2>
			</div>
			<div class="modal-body">
			  <h2 id="match-name"></h2>
			  <img id="match-img" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="">
			</div>
			<div class="modal-footer">
			  <button class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		  </div>
	
		</div>
	  </div>
	
	  <script type="text/javascript">
		// Chosen CSS
		var config = {
		  ".chosen-select": {},
		  ".chosen-select-deselect": {
			allow_single_deselect: true
		  },
		  ".chosen-select-no-single": {
			disable_search_threshold: 10
		  },
		  ".chosen-select-no-results": {
			no_results_text: "Oops, nothing found!"
		  },
		  ".chosen-select-width": {
			width: "95%"
		  }
		};
	
		for (var selector in config) {
		  $(selector).chosen(config[selector]);
		}
	
		// Capture the form inputs
		$("#submit").on("click", function(event) {
		  event.preventDefault();
	
		  // Form validation
		  function validateForm() {
			var isValid = true;
			$(".form-control").each(function() {
			  if ($(this).val() === "") {
				isValid = false;
			  }
			});
	
			$(".chosen-select").each(function() {
	
			  if ($(this).val() === "") {
				isValid = false;
			  }
			});
			return isValid;
		  }
	
		  // If all required fields are filled
		  if (validateForm()) {
			// Create an object for the user"s data
			var userData = {
			  name: $("#name").val(),
			  photo: $("#photo").val(),
			  scores: [
				$("#q1").val(),
				$("#q2").val(),
				$("#q3").val(),
				$("#q4").val(),
				$("#q5").val(),
				$("#q6").val(),
				$("#q7").val(),
				$("#q8").val(),
				$("#q9").val(),
				$("#q10").val()
			  ]
			};
	
			// AJAX post the data to the friends API.
			$.post("/api/friends", userData, function(data) {
	
			  // Grab the result from the AJAX post so that the best match's name and photo are displayed.
			  $("#match-name").text(data.name);
			  $("#match-img").attr("src", data.photo);
	
			  // Show the modal with the best match
			  $("#results-modal").modal("toggle");
	
			});
		  } else {
			alert("Please fill out all fields before submitting!");
		  }
		});
	  </script>
	
	</body>
	
	</html>
	